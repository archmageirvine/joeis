package irvine.oeis.a051;

import irvine.math.z.Z;
import irvine.oeis.Sequence;

/**
 * A051184 Number of 7-element intersecting families of an n-element set.
 * @author Sean A. Irvine
 */
public class A051184 implements Sequence {

  private static final int[][] C = {
    {1, 128},
    {-21, 96},
    {105, 80},
    {-35, 72},
    {105, 68},
    {-42, 66},
    {7, 65},
    {-476, 64},
    {-630, 60},
    {1785, 56},
    {315, 54},
    {-210, 52},
    {-105, 51},
    {1260, 50},
    {-105, 49},
    {-1575, 48},
    {-2520, 46},
    {-105, 45},
    {1638, 44},
    {840, 43},
    {-6615, 42},
    {1050, 41},
    {4130, 40},
    {-1890, 39},
    {14595, 38},
    {2835, 37},
    {-7945, 36},
    {-1554, 35},
    {-18711, 34},
    {-12572, 33},
    {24710, 32},
    {4620, 31},
    {560, 30},
    {25995, 29},
    {-16905, 28},
    {-13545, 27},
    {-6510, 26},
    {-42945, 25},
    {12005, 24},
    {102011, 23},
    {-4648, 22},
    {-87780, 21},
    {-15785, 20},
    {43120, 19},
    {21364, 18},
    {4200, 17},
    {-37205, 16},
    {-17105, 15},
    {36386, 14},
    {28644, 13},
    {-57603, 12},
    {24150, 11},
    {4585, 10},
    {-16289, 9},
    {20943, 8},
    {-12754, 7},
    {-287, 6},
    {4137, 5},
    {-3388, 4},
    {1764, 3},
    {720, 2},
    {-720, 1}
  };

  private int mN = -1;

  @Override
  public Z next() {
    ++mN;
    Z sum = Z.ZERO;
    for (final int[] c : C) {
      sum = sum.add(Z.valueOf(c[1]).pow(mN).multiply(c[0]));
    }
    return sum.divide(5040);
  }
}
