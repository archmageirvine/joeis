package irvine.oeis.a051;

import irvine.math.z.Z;
import irvine.oeis.Sequence;

/**
 * A051307 Number of 7-element proper antichains of an n-element set.
 * @author Sean A. Irvine
 */
public class A051307 implements Sequence {

  private static final int[][] C = {
    {1, 128},
    {-63, 96},
    {525, 80},
    {-315, 72},
    {1785, 68},
    {-1386, 66},
    {455, 65},
    {-3486, 64},
    {-9450, 60},
    {21315, 56},
    {8505, 54},
    {-13650, 52},
    {-5355, 51},
    {36750, 50},
    {-5145, 49},
    {-14805, 48},
    {-57960, 46},
    {-4725, 45},
    {45738, 44},
    {36120, 43},
    {-191835, 42},
    {43050, 41},
    {74725, 40},
    {-73710, 39},
    {333165, 38},
    {104895, 37},
    {-73395, 36},
    {-54390, 35},
    {-354144, 34},
    {-423192, 33},
    {383621, 32},
    {143220, 31},
    {-292425, 30},
    {753855, 29},
    {181545, 28},
    {-314685, 27},
    {-114660, 26},
    {-916125, 25},
    {-268716, 24},
    {1998493, 23},
    {140833, 22},
    {-2359350, 21},
    {458675, 20},
    {2147950, 19},
    {-961758, 18},
    {-1428000, 17},
    {933380, 16},
    {578175, 15},
    {-614362, 14},
    {143052, 13},
    {45990, 12},
    {-244860, 11},
    {356475, 10},
    {-199521, 9},
    {-12244, 8},
    {64778, 7},
    {-40026, 6},
    {28035, 5},
    {-9604, 4},
    {-5292, 3},
    {4248, 2},
    {-720, 1}
  };

  private int mN = -1;

  @Override
  public Z next() {
    ++mN;
    Z sum = Z.ZERO;
    for (final int[] c : C) {
      sum = sum.add(Z.valueOf(c[1]).pow(mN).multiply(c[0]));
    }
    return sum.divide(5040);
  }
}
