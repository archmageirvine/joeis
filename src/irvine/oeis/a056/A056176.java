package irvine.oeis.a056;
// Generated by gen_seq4.pl floorr at 2021-08-30 00:15

import irvine.math.cr.CR;
import irvine.math.z.Z;
import irvine.oeis.Sequence0;

/**
 * A056176 Sum of a(n) terms of 1/k^(1/4) first exceeds n.
 * @author Georg Fischer
 */
public class A056176 extends Sequence0 {

  private final CR mExp; // exponent of k
  private int mN = -1;
  private int mK;
  private CR mSum;

  /** Construct the sequence. */
  public A056176() {
    this(1, 4);
  }

  /**
   * Generic constructor with parameters
   * @param num numerator
   * @param den denominator
   */
  public A056176(final int num, final int den) {
    mExp = CR.valueOf(num).divide(CR.valueOf(den));
    mK = 1;
    mSum = CR.valueOf(mK).pow(mExp).inverse();
  }

  @Override
  public Z next() {
    final CR n = CR.valueOf(++mN);
    while (mSum.compareTo(n, -16) <= 0) {
      ++mK;
      mSum = mSum.add(CR.valueOf(mK).pow(mExp).inverse());
//  System.out.println("n=" + n + ", k=" + k + ", sum=" + sum + ", compare=" + sum.compareTo(n, 128));
    }
    return Z.valueOf(mK);
  }
}
