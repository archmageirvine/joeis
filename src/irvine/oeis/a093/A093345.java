package irvine.oeis.a093;
// Generated by gen_seq4.pl expr_gen/lambda at 2023-08-26 21:16

import irvine.math.factorial.MemoryFactorial;
import irvine.math.q.Q;
import irvine.math.q.Rationals;
import irvine.math.z.Z;
import irvine.oeis.LambdaSequence;

/**
 * A093345 a(n) = n! * {1 + Sum[i=1..n, 1/i*Sum(j=0..i-1, 1/j!)]}.
 * a(n)=n!+n!*sum(i=1,n,1/i*sum(j=0,i-1,1/j!))
 * @author Georg Fischer
 */
public class A093345 extends LambdaSequence {

  /** Construct the sequence. */
  public A093345() {
    super(0, n -> MemoryFactorial.SINGLETON.factorial(n).add(
      Rationals.SINGLETON.sum(1, n, i ->
        Rationals.SINGLETON.sum(0, i - 1, j -> new Q(Z.ONE, MemoryFactorial.SINGLETON.factorial(j))).divide(i)
      ).multiply(MemoryFactorial.SINGLETON.factorial(n)).num()));
  }
}
