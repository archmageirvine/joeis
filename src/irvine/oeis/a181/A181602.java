package irvine.oeis.a181;
// Generated by gen_seq4.pl 2025-11-02.ack/filter at 2025-11-02 14:21

import irvine.math.function.Functions;
import irvine.math.predicate.Predicates;
import irvine.math.z.Z;
import irvine.oeis.FilterSequence;
import irvine.oeis.a000.A000040;

/**
 * A181602 Primes p such that p-1 is a semiprime and p+2 is prime or prime squared.
 * @author Georg Fischer
 */
public class A181602 extends FilterSequence {

  /** Construct the sequence. */
  public A181602() {
    super(1, new A000040(), p -> {
      if (!Predicates.SEMIPRIME.is(p.subtract(1))) {
        return false;
      }
      final Z p2 = p.add(2);
      if (Predicates.PRIME.is(p2)) {
        return true;
      }
      final Z ps = Functions.SQRT.z(p2);
      return ps.multiply(ps).equals(p2) && Predicates.PRIME.is(ps);
    });
  }
}
