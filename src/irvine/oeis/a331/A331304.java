package irvine.oeis.a331;
// Generated by gen_seq4.pl 2024-02-22/rgs1 at 2024-02-22 20:18

import irvine.math.z.Z;
import irvine.oeis.a000.A000720;
import irvine.oeis.transform.RestrictedGrowthTransformSequence;
import irvine.oeis.transform.SimpleTransformSequence;

/**
 * A331304 For n &lt;= 4, a(n) = n, for n &gt; 4, if n is prime, a(n) = 3 + 2*A000035(A000720(n)), otherwise a(n) = 3 + n - A000720(n).
 * @author Georg Fischer
 */
public class A331304 extends RestrictedGrowthTransformSequence {

  /** Construct the sequence. */
  public A331304() {
    super(1, new SimpleTransformSequence(1, new A000720(), (n, v) -> (n <= 4) ? Z.valueOf(n) : (Z.valueOf(n).isProbablePrime() ? v.and(Z.ONE).shiftLeft(1).add(3) : Z.valueOf(n + 3).subtract(v))));
  }
}
