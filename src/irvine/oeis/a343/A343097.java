package irvine.oeis.a343;
// Generated by gen_seq4.pl 2024-10-15.ack/arrlamb at 2024-10-15 22:29

import irvine.math.z.Z;
import irvine.oeis.triangle.LambdaArray;

/**
 * A343097 Array read by antidiagonals: T(n,k) is the number of k-colorings of an n X n grid, up to rotations and reflections.
 * @author Georg Fischer
 */
public class A343097 extends LambdaArray {

  /** Construct the sequence. */
  public A343097() {
    super(0, 0, 0, -1, (n, k) -> {
      final long n2 = (long) n * n;
      return Z.valueOf(k).pow(n2).add(Z.valueOf(k).pow((n2 + 3 * (n & 1)) / 4).multiply(2)).add(Z.valueOf(k).pow((n2 + (n % 2)) / 2)).add(Z.valueOf(k).pow((long) n * (n + 1) / 2).multiply(2)).add(Z.valueOf(k).pow((long) n * (n + (n & 1)) / 2).multiply(2)).divide(8);
    });
  }
}
