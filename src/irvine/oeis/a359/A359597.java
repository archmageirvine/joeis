package irvine.oeis.a359;
// Generated by gen_seq4.pl filtpos at 2023-09-08 10:19

import irvine.factor.factor.Jaguar;
import irvine.factor.util.FactorSequence;
import irvine.oeis.FilterPositionSequence;
import irvine.oeis.a358.A358777;

/**
 * A359597 Indices k such that A358777(k) is odd, and k is not an odd semiprime.
 * @author Georg Fischer
 */
public class A359597 extends FilterPositionSequence {

  /** Construct the sequence. */
  public A359597() {
    super(1, 1, new A358777(), (k, v) -> {
        if (v.isOdd()) {
          if ((k & 1) == 1) { // k odd
            final int semip = Jaguar.factor(k).isSemiprime();
            if (semip == FactorSequence.UNKNOWN) {
              throw new UnsupportedOperationException("Could not determine semiprime status of " + k);
            }
            return semip == FactorSequence.NO;
          } else { // k even
            return true;
          }
        } else { // v even
          return false;
        }
      }
    );
  }
}
